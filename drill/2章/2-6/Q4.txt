解答日：2019/06/12


Q:以下は、著者情報テーブル（author）とユーザテーブル（usr）から
　それぞれ氏名の情報を取り出すためのSQL命令ですが、2点誤りがあります。
　誤りを指摘してください。
　なお、統合したデータは重複を含まないものとし、
　結果は氏名（カナ）について降順で並び替えます。


 SELECT
  a.name_kana,
 FROM
  author AS a
UNION ALL
 SELECT
  u.l_name_kana,
  u.f_name_kana
 FROM
  usr AS u
ORDER BY
 1 DESC
;


A:
5行目	統合演算子のUNION ALLは重複データを含む統合結果となるため、含まない結果とするためUNIONのみに修正。
7,8行目	列数が両テーブル等しくないと統合不可のため、文字列結合して一つのカラム抽出に修正

-- 選択命令文
 SELECT
-- 抽出する'氏名（カナ）'カラムの指定
  a.name_kana
-- 抽出元テーブル名の指定
 FROM
-- '著者情報'テーブルを同名カラム名競合防止のため別名をつけて指定
  author AS a
-- 複数テーブルの結果を統合するための演算子
UNION
-- 統合する結果の選択命令文
 SELECT
-- 統合するため'氏（カナ）'と'名（カナ）'カラムを文字列結合して抽出する
  CONCAT(u.l_name_kana, u.f_name_kana)
-- 抽出元テーブル名の指定
 FROM
-- 'ユーザ'テーブルを同名カラム名競合防止のため別名をつけて指定
  usr AS u
-- 並び替え命令句
ORDER BY
-- 並び替えキーとなるカラム名が両テーブル違うため番号で指定し降順で並び替える
 1 DESC
-- SQL命令の終了
;

+------------------+
| name_kana        |
+------------------+
| ワダシュウコ     |
| ヨシオカハルカ   |
| ヤマダヨシヒロ   |
| ヤマダタロウ     |
| ヤマダアイコ     |
| ヤグチアユミ     |
| モリモトエリ     |
| モリグチヤスオ   |
| ムライサチコ     |
| ミナミサエ       |
| マツモトヒロミ   |
| ネギシユウコ     |
| ニシジマフミコ   |
| タナカタロウ     |
| サトウイチロウ   |
| サカグチシュン   |
| コダマツヨシ     |
| クボタマモル     |
| キノシタカズキ   |
| カワナカトモキ   |
| カワイヤスハル   |
| オノユウジ       |
| エモトサトシ     |
| ウエハラコウイチ |
| イノウエイチロウ |
| アリヨシハルミ   |
| アリキマリ       |
+------------------+
27 rows in set (0.01 sec)
